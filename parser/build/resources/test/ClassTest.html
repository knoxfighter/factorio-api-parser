<!Doctype html>
<html lang="en">
<head><title>LuaControl</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="lua-doc.css">
    <script rel="stylesheet" type="text/javascript" src="lua-doc.js"></script>
</head>
<body>
<div class="navigation-bar"><span class="navigation"><a href="index.html">Factorio</a> » <a
        href="Classes.html">Classes</a> » LuaControl</span><span class="version">Factorio 0.18.17</span></div>
<h1>LuaControl</h1>
<div class="brief-description"><p> This is an abstract base class containing the common functionality between <a
        href="LuaPlayer.html">LuaPlayer</a> and entities
    (see <a href="LuaEntity.html">LuaEntity</a>). When accessing player-related functions through a <a
            href="LuaEntity.html">LuaEntity</a>, it must refer to a character
    entity.
</p></div>
<div class="brief-listing">
    <div class="brief-listing" id="LuaControl.brief">class <span class="type-name">LuaControl</span> - <a class="sort"
                                                                                                          href="javascript:void(0)"
                                                                                                          onclick="sort('LuaControl.brief');">sort</a>
        <table class="brief-members">
            <tbody>
            <tr>
                <td class="header"><span class="element-name"><a href="LuaControl.html#LuaControl.get_inventory">get_inventory</a>(inventory) → <span
                        class="return-type"><span class="param-type"><a href="LuaInventory.html">LuaInventory</a></span></span></span>
                </td>
                <td class="description"> Get an inventory belonging to this entity.</td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a href="LuaControl.html#LuaControl.get_main_inventory">get_main_inventory</a>() → <span
                        class="return-type"><span class="param-type"><a href="LuaInventory.html">LuaInventory</a></span></span></span>
                </td>
                <td class="description"> Gets the main inventory for this character or player if this is a character or
                    player.
                </td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a href="LuaControl.html#LuaControl.set_gui_arrow">set_gui_arrow</a>{type=…}</span>
                </td>
                <td class="description"> Create an arrow which points at this entity.</td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a href="LuaControl.html#LuaControl.clear_gui_arrow">clear_gui_arrow</a>()</span>
                </td>
                <td class="description"> Removes the arrow created by <code>set_gui_arrow</code>.</td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a href="LuaControl.html#LuaControl.teleport">teleport</a>(position, surface) → <span
                        class="return-type"><span class="param-type"><a
                        href="Builtin-Types.html#boolean">boolean</a></span></span></span></td>
                <td class="description"> Teleport the entity to a given position, possibly on another surface.</td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a
                        href="LuaControl.html#LuaControl.update_selected_entity">update_selected_entity</a>(position)</span>
                </td>
                <td class="description"> Select an entity, as if by hovering the mouse above it.</td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a href="LuaControl.html#LuaControl.begin_crafting">begin_crafting</a>{count=…, recipe=…, silent=…} → <span
                        class="return-type"><span class="param-type"><a
                        href="Builtin-Types.html#uint">uint</a></span></span></span></td>
                <td class="description"> Begins crafting the given count of the given recipe
                </td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a
                        href="LuaControl.html#LuaControl.is_player">is_player</a>() → <span class="return-type"><span
                        class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></td>
                <td class="description"> When <code>true</code> control adapter is a LuaPlayer object,
                    <code>false</code> for entities including characters with players
                </td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a
                        href="LuaControl.html#LuaControl.surface">surface</a></span><span
                        class="attribute-type"> :: <span class="param-type"><a
                        href="LuaSurface.html">LuaSurface</a></span></span><span class="attribute-mode"> [R]</span></td>
                <td class="description"> The surface this entity is currently on.</td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a
                        href="LuaControl.html#LuaControl.force">force</a></span><span class="attribute-type"> :: <span
                        class="param-type"><a
                        href="Concepts.html#ForceSpecification">ForceSpecification</a></span></span><span
                        class="attribute-mode"> [RW]</span></td>
                <td class="description"> The force of this entity.</td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a
                        href="LuaControl.html#LuaControl.opened">opened</a></span><span class="attribute-type"> :: <span
                        class="param-type"><span class="param-type"><a
                        href="LuaEntity.html">LuaEntity</a></span> or <span class="param-type"><a
                        href="LuaItemStack.html">LuaItemStack</a></span> or <span class="param-type"><a
                        href="LuaEquipment.html">LuaEquipment</a></span> or <span class="param-type"><a
                        href="LuaEquipmentGrid.html">LuaEquipmentGrid</a></span> or <span class="param-type"><a
                        href="LuaPlayer.html">LuaPlayer</a></span> or <span class="param-type"><a
                        href="LuaGuiElement.html">LuaGuiElement</a></span> or <span class="param-type"><a
                        href="defines.html#defines.gui_type">defines.gui_type</a></span></span></span><span
                        class="attribute-mode"> [RW]</span></td>
                <td class="description"> The GUI target the player currently has open; <code>nil</code> if none.</td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a href="LuaControl.html#LuaControl.walking_state">walking_state</a></span><span
                        class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#table">table</a></span></span><span
                        class="attribute-mode"> [RW]</span></td>
                <td class="description"> Current walking state.</td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a href="LuaControl.html#LuaControl.crafting_queue">crafting_queue</a></span><span
                        class="attribute-type"> :: <span class="param-type">array of <span class="param-type">CraftingQueueItem</span></span></span><span
                        class="attribute-mode"> [R]</span></td>
                <td class="description"> Gets the current crafting queue items.</td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a href="LuaControl.html#LuaControl.auto_trash_filters">auto_trash_filters</a></span><span
                        class="attribute-type"> :: <span class="param-type">dictionary <span class="param-type"><a
                        href="Builtin-Types.html#string">string</a></span> → <span class="param-type"><a
                        href="Builtin-Types.html#uint">uint</a></span></span></span><span
                        class="attribute-mode"> [RW]</span></td>
                <td class="description">
                    The auto-trash filters.
                </td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a href="LuaControl.html#LuaControl.opened_gui_type">opened_gui_type</a></span><span
                        class="attribute-type"> :: <span class="param-type"><a href="defines.html#defines.gui_type">defines.gui_type</a></span></span><span
                        class="attribute-mode"> [R]</span></td>
                <td class="description"> Returns the <a href="defines.html#defines.gui_type">defines.gui_type</a> or
                    <code>nil</code>.
                </td>
            </tr>
            <tr>
                <td class="header"><span class="element-name"><a href="LuaControl.html#LuaControl.get_logistic_point">get_logistic_point</a>(defines.logistic_member_index) → <span
                        class="return-type"><span class="param-type"><span class="param-type"><a
                        href="LuaLogisticPoint.html">LuaLogisticPoint</a></span> or <span
                        class="param-type">array of <span class="param-type"><a href="LuaLogisticPoint.html">LuaLogisticPoint</a></span></span></span></span></span>
                </td>
                <td class="description"> Gets the <a href="LuaLogisticPoint.html">LuaLogisticPoint</a> specified by the
                    given index or if not given returns all of the points this entity owns.
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="element" id="LuaControl">
    <div class="element" id="LuaControl.get_inventory">
        <div class="element-header"><span class="element-name">get_inventory(inventory) → <span
                class="return-type"><span class="param-type"><a href="LuaInventory.html">LuaInventory</a></span></span></span>
        </div>
        <div class="element-content"><p> Get an inventory belonging to this entity. This can be either the "main"
            inventory or some auxiliary
            one, like the module slots or logistic trash slots.
        </p>
            <p></p>
            <p></p>
            <div class="detail">
                <div class="detail-header">Parameters</div>
                <div class="detail-content">
                    <div><span class="param-name">inventory</span> :: <span class="param-type"><a
                            href="defines.html#defines.inventory">defines.inventory</a></span></div>
                </div>
            </div>
            <div class="detail">
                <div class="detail-header">Return value</div>
                <div class="detail-content"> or <code>nil</code> if this entity doesn't have an inventory with the given
                    index.
                </div>
            </div>
            <div class="notes">
                <div class="note"><strong>Note: </strong> A given <a href="defines.html#defines.inventory">defines.inventory</a>
                    is only meaningful for the corresponding LuaObject type. EG:
                    get_inventory(defines.inventory.character_main) is only meaningful if 'this' is a player character.
                    You may get a value back but if the type of 'this' isn't the type referred to by the <a
                            href="defines.html#defines.inventory">defines.inventory</a> it's almost guaranteed to not be
                    the inventory asked for.
                </div>
            </div>
        </div>
    </div>
    <div class="element" id="LuaControl.get_main_inventory">
        <div class="element-header"><span class="element-name">get_main_inventory() → <span class="return-type"><span
                class="param-type"><a href="LuaInventory.html">LuaInventory</a></span></span></span></div>
        <div class="element-content"><p> Gets the main inventory for this character or player if this is a character or
            player.</p>
            <p></p>
            <div class="detail">
                <div class="detail-header">Return value</div>
                <div class="detail-content"> or <code>nil</code> if this entity is not a character or player.</div>
            </div>
        </div>
    </div>


    <div class="element" id="LuaControl.set_gui_arrow">
        <div class="element-header"><span class="element-name">set_gui_arrow{type=…}</span></div>
        <div class="element-content"><p> Create an arrow which points at this entity. This is used in the tutorial. For
            examples, see <code>control.lua</code>
            in the campaign missions.</p>
            <p></p>
            <div class="detail">
                <div class="detail-header">Parameters</div>
                <div class="detail-content">
                    <div> Table with the following fields:
                        <ul class="field-list">
                            <li><span class="param-name">type</span> :: <span class="param-type"><a
                                    href="Builtin-Types.html#string">string</a></span>: Where to point to. This field
                                determines what other fields are mandatory.
                                May be <code>"nowhere"</code>, <code>"goal"</code>, <code>"entity_info"</code>, <code>"active_window"</code>,
                                <code>"entity"</code>, <code>"position"</code>,
                                <code>"crafting_queue"</code>, or <code>"item_stack"</code>.
                            </li>
                            <li>Additional <code>type</code>-specific parameters
                                <ul>
                                    <li>entity
                                        <ul class="field-list">
                                            <li><span class="param-name">entity</span> :: <span class="param-type"><a
                                                    href="LuaEntity.html">LuaEntity</a></span></li>
                                        </ul>
                                    </li>
                                    <li>position
                                        <ul class="field-list">
                                            <li><span class="param-name">position</span> :: <span class="param-type"><a
                                                    href="Concepts.html#Position">Position</a></span></li>
                                        </ul>
                                    </li>
                                    <li>crafting_queue
                                        <ul class="field-list">
                                            <li><span class="param-name">crafting_queueindex</span> :: <span
                                                    class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>item_stack
                                        <ul class="field-list">
                                            <li><span class="param-name">inventory_index</span> :: <span
                                                    class="param-type"><a href="defines.html#defines.inventory">defines.inventory</a></span>
                                            </li>
                                            <li><span class="param-name">item_stack_index</span> :: <span
                                                    class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>
                                            </li>
                                            <li><span class="param-name">source</span> :: <span class="param-type"><a
                                                    href="Builtin-Types.html#string">string</a></span>: May be either
                                                <code>"player"</code> or <code>"target"</code>.
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="element" id="LuaControl.clear_gui_arrow">
        <div class="element-header"><span class="element-name">clear_gui_arrow()</span></div>
        <div class="element-content"><p> Removes the arrow created by <code>set_gui_arrow</code>.
        </p></div>
    </div>


    <div class="element" id="LuaControl.teleport">
        <div class="element-header"><span class="element-name">teleport(position, surface) → <span
                class="return-type"><span class="param-type"><a
                href="Builtin-Types.html#boolean">boolean</a></span></span></span></div>
        <div class="element-content"><p> Teleport the entity to a given position, possibly on another surface.</p>
            <p></p>
            <p></p>
            <p></p>
            <p>
            </p>
            <p></p>
            <div class="detail">
                <div class="detail-header">Parameters</div>
                <div class="detail-content">
                    <div><span class="param-name">position</span> :: <span class="param-type"><a
                            href="Concepts.html#Position">Position</a></span>: Where to teleport to.
                    </div>
                    <div><span class="param-name">surface</span> :: <span class="param-type"><a
                            href="Concepts.html#SurfaceSpecification">SurfaceSpecification</a></span> <span class="opt"> (optional)</span>:
                        Surface to teleport to. If not given, will teleport
                        to the entity's current surface. Only players and cars can be teleported cross-surface.
                    </div>
                </div>
            </div>
            <div class="detail">
                <div class="detail-header">Return value</div>
                <div class="detail-content"><code>true</code> when the entity was successfully teleported.</div>
            </div>
            <div class="notes">
                <div class="note"><strong>Note: </strong> Some entities may not be teleported. For instance, transport
                    belts
                    won't allow teleportation and this method will always return <code>false</code> when used on any
                    such entity.
                </div>
                <div class="note"><strong>Note: </strong> You can also pass 1 or 2 numbers as the parameters and they
                    will be used as relative teleport coordinates
                    <code>'teleport(0, 1)'</code> to move the entity 1 tile positive y.
                    <code>'teleport(4)'</code> to move the entity 4 tiles to the positive x.
                </div>
            </div>
        </div>
    </div>
    <div class="element" id="LuaControl.update_selected_entity">
        <div class="element-header"><span class="element-name">update_selected_entity(position)</span></div>
        <div class="element-content"><p> Select an entity, as if by hovering the mouse above it.</p>
            <p></p>
            <div class="detail">
                <div class="detail-header">Parameters</div>
                <div class="detail-content">
                    <div><span class="param-name">position</span> :: <span class="param-type"><a
                            href="Concepts.html#Position">Position</a></span>: Position of the entity to select
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="element" id="LuaControl.begin_crafting">
        <div class="element-header"><span class="element-name">begin_crafting{count=…, recipe=…, silent=…} → <span
                class="return-type"><span class="param-type"><a
                href="Builtin-Types.html#uint">uint</a></span></span></span></div>
        <div class="element-content"><p> Begins crafting the given count of the given recipe</p>
            <p></p>
            <p>
            </p>
            <div class="detail">
                <div class="detail-header">Parameters</div>
                <div class="detail-content">
                    <div>
                        <ul class="field-list">
                            <li><span class="param-name">count</span> :: <span class="param-type"><a
                                    href="Builtin-Types.html#uint">uint</a></span>: The count to craft.
                            </li>
                            <li><span class="param-name">recipe</span> :: <span class="param-type"><span
                                    class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span
                                    class="param-type"><a href="LuaRecipe.html">LuaRecipe</a></span></span>: The recipe
                                to craft.
                            </li>
                            <li><span class="param-name">silent</span> :: <span class="param-type"><a
                                    href="Builtin-Types.html#boolean">boolean</a></span> <span
                                    class="opt"> (optional)</span>: If false and the recipe can't be crafted the
                                requested number of times printing the failure is skipped.
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="detail">
                <div class="detail-header">Return value</div>
                <div class="detail-content"> The count that was actually started crafting.</div>
            </div>
        </div>
    </div>


    <div class="element" id="LuaControl.is_player">
        <div class="element-header"><span class="element-name">is_player() → <span class="return-type"><span
                class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></div>
        <div class="element-content"><p></p>
            <p> When <code>true</code> control adapter is a LuaPlayer object, <code>false</code> for entities including
                characters with players
            </p></div>
    </div>


    <div class="element" id="LuaControl.surface">
        <div class="element-header"><span class="element-name">surface</span><span class="attribute-type"> :: <span
                class="param-type"><a href="LuaSurface.html">LuaSurface</a></span></span><span class="attribute-mode"> [Read-only]</span>
        </div>
        <div class="element-content"><p></p>
            <p> The surface this entity is currently on.
            </p></div>
    </div>


    <div class="element" id="LuaControl.force">
        <div class="element-header"><span class="element-name">force</span><span class="attribute-type"> :: <span
                class="param-type"><a href="Concepts.html#ForceSpecification">ForceSpecification</a></span></span><span
                class="attribute-mode"> [Read-Write]</span></div>
        <div class="element-content"><p> The force of this entity. Reading will always give a <a href="LuaForce.html">LuaForce</a>,
            but it is possible to
            assign either <a href="Builtin-Types.html#string">string</a> or <a href="LuaForce.html">LuaForce</a> to this
            attribute to change the force.
        </p></div>
    </div>

    <div class="element" id="LuaControl.opened">
        <div class="element-header"><span class="element-name">opened</span><span class="attribute-type"> :: <span
                class="param-type"><span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span> or <span
                class="param-type"><a href="LuaItemStack.html">LuaItemStack</a></span> or <span class="param-type"><a
                href="LuaEquipment.html">LuaEquipment</a></span> or <span class="param-type"><a
                href="LuaEquipmentGrid.html">LuaEquipmentGrid</a></span> or <span class="param-type"><a
                href="LuaPlayer.html">LuaPlayer</a></span> or <span class="param-type"><a href="LuaGuiElement.html">LuaGuiElement</a></span> or <span
                class="param-type"><a
                href="defines.html#defines.gui_type">defines.gui_type</a></span></span></span><span
                class="attribute-mode"> [Read-Write]</span></div>
        <div class="element-content"><p></p>
            <p> The GUI target the player currently has open; <code>nil</code> if none.
            </p>
            <div class="notes">
                <div class="note"><strong>Note: </strong> Write supports any of the types. Read will return the entity,
                    equipment, element or nil.
                </div>
            </div>
        </div>
    </div>

    <div class="element" id="LuaControl.walking_state">
        <div class="element-header"><span class="element-name">walking_state</span><span
                class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#table">table</a></span></span><span
                class="attribute-mode"> [Read-Write]</span></div>
        <div class="element-content"><p> Current walking state.
        </p>
            <p> It is a table with two fields: </p>
            <ul class="field-list">
                <li><span class="param-name">walking</span> :: <span class="param-type"><a
                        href="Builtin-Types.html#boolean">boolean</a></span>: If <code>false</code>, the player is
                    currently not walking; otherwise it's going somewhere
                </li>
                <li><span class="param-name">direction</span> :: <span class="param-type"><a
                        href="defines.html#defines.direction">defines.direction</a></span>: Direction where the player
                    is walking
                </li>
            </ul>
            <p></p>
            <div class="example">
                <div class="example-header">Example</div>
                Make the player go north. Note that a one-shot action like this will only make the player walk for one
                tick.
                <div class="block-code-container"><code class="block">game.player.walking_state&nbsp;=&nbsp;{walking&nbsp;=&nbsp;true,&nbsp;direction&nbsp;=&nbsp;defines.direction.north}</code>
                </div>
            </div>
        </div>
    </div>


    <div class="element" id="LuaControl.crafting_queue">
        <div class="element-header"><span class="element-name">crafting_queue</span><span
                class="attribute-type"> :: <span class="param-type">array of <span
                class="param-type">CraftingQueueItem</span></span></span><span
                class="attribute-mode"> [Read-only]</span></div>
        <div class="element-content"><p> Gets the current crafting queue items.</p>
            <p></p>
            <p> Each CraftingQueueItem is a table: </p>
            <ul class="field-list">
                <li><span class="param-name">index</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>:
                    The crafting queue index
                </li>
                <li><span class="param-name">recipe</span> :: <span class="param-type"><a
                        href="Builtin-Types.html#string">string</a></span>: The recipe.
                </li>
                <li><span class="param-name">count</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>:
                    The count being crafted.
                </li>
            </ul>
            <p></p></div>
    </div>


    <div class="element" id="LuaControl.auto_trash_filters">
        <div class="element-header"><span class="element-name">auto_trash_filters</span><span class="attribute-type"> :: <span
                class="param-type">dictionary <span class="param-type"><a
                href="Builtin-Types.html#string">string</a></span> → <span class="param-type"><a
                href="Builtin-Types.html#uint">uint</a></span></span></span><span
                class="attribute-mode"> [Read-Write]</span></div>
        <div class="element-content"><p></p>
            <p>
                The auto-trash filters. The keys are item prototype names, the values are the slot values.</p>
            <p></p>
            <p></p>
            <div class="notes">
                <div class="note"><strong>Note: </strong> When called on a <a href="LuaPlayer.html">LuaPlayer</a>, it
                    must be associated with a character (see <a href="LuaPlayer.html#LuaPlayer.character">LuaPlayer::character</a>).
                </div>
            </div>
            <div class="example">
                <div class="example-header">Example</div>
                This will set the auto-trash slots to keep only at most 20 iron plates and 42 copper wires in the
                player's
                inventory.
                <div class="block-code-container"><code class="block">game.player.auto_trash_filters&nbsp;=&nbsp;{["iron-plate"]&nbsp;=&nbsp;20,&nbsp;["copper-cable"]&nbsp;=&nbsp;42}</code>
                </div>
            </div>
        </div>
    </div>
    <div class="element" id="LuaControl.opened_gui_type">
        <div class="element-header"><span class="element-name">opened_gui_type</span><span
                class="attribute-type"> :: <span class="param-type"><a href="defines.html#defines.gui_type">defines.gui_type</a></span></span><span
                class="attribute-mode"> [Read-only]</span></div>
        <div class="element-content"><p></p>
            <p> Returns the <a href="defines.html#defines.gui_type">defines.gui_type</a> or <code>nil</code>.
            </p></div>
    </div>

    <div class="element" id="LuaControl.get_logistic_point">
        <div class="element-header"><span class="element-name">get_logistic_point(defines.logistic_member_index) → <span
                class="return-type"><span class="param-type"><span class="param-type"><a href="LuaLogisticPoint.html">LuaLogisticPoint</a></span> or <span
                class="param-type">array of <span class="param-type"><a
                href="LuaLogisticPoint.html">LuaLogisticPoint</a></span></span></span></span></span></div>
        <div class="element-content"><p> Gets the <a href="LuaLogisticPoint.html">LuaLogisticPoint</a> specified by the
            given index or if not given returns all of the points this entity owns.
        </p>
            <p></p>
            <p></p>
            <div class="detail">
                <div class="detail-header">Parameters</div>
                <div class="detail-content">
                    <div><span class="param-name">defines.logistic_member_index</span><span
                            class="opt"> (optional)</span></div>
                </div>
            </div>
            <div class="notes">
                <div class="note"><strong>Note: </strong> When the index is not given for most entities this will be a
                    single entry. For some (such as the player character) this can be zero or more.
                </div>
            </div>
        </div>
    </div>


</div>
</body>
</html>
